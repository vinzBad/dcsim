[gd_scene load_steps=9 format=2]

[ext_resource path="res://scenes/main.gd" type="Script" id=1]
[ext_resource path="res://scenes/world.gd" type="Script" id=2]

[sub_resource type="InputEventAction" id=1]
action = "add_server"

[sub_resource type="ShortCut" id=2]
shortcut = SubResource( 1 )

[sub_resource type="InputEventAction" id=3]
action = "add_router"

[sub_resource type="ShortCut" id=4]
shortcut = SubResource( 3 )

[sub_resource type="InputEventAction" id=5]
action = "add_uplink"

[sub_resource type="ShortCut" id=6]
shortcut = SubResource( 5 )

[node name="main" type="Node2D"]
script = ExtResource( 1 )

[node name="camera" type="Camera2D" parent="."]
current = true
drag_margin_h_enabled = false
drag_margin_v_enabled = false

[node name="world" type="Node2D" parent="."]
script = ExtResource( 2 )

[node name="gui" type="CanvasLayer" parent="."]

[node name="vbox_buttons" type="VBoxContainer" parent="gui"]
margin_right = 83.0
margin_bottom = 140.0

[node name="create_server" type="Button" parent="gui/vbox_buttons"]
margin_right = 83.0
margin_bottom = 20.0
shortcut = SubResource( 2 )
text = "SERVER (S)"

[node name="create_router" type="Button" parent="gui/vbox_buttons"]
margin_top = 24.0
margin_right = 83.0
margin_bottom = 44.0
shortcut = SubResource( 4 )
text = "ROUTER (R)"

[node name="create_uplink" type="Button" parent="gui/vbox_buttons"]
margin_top = 48.0
margin_right = 83.0
margin_bottom = 68.0
shortcut = SubResource( 6 )
text = "UPLINK (U)"

[node name="create_packet" type="Button" parent="gui/vbox_buttons"]
margin_top = 72.0
margin_right = 83.0
margin_bottom = 92.0
shortcut = SubResource( 4 )
text = "PACKETS"

[node name="load" type="Button" parent="gui/vbox_buttons"]
margin_top = 96.0
margin_right = 83.0
margin_bottom = 116.0
text = "load"

[node name="save" type="Button" parent="gui/vbox_buttons"]
margin_top = 120.0
margin_right = 83.0
margin_bottom = 140.0
text = "save"

[node name="clear" type="Button" parent="gui/vbox_buttons"]
margin_top = 144.0
margin_right = 83.0
margin_bottom = 164.0
text = "clear"

[node name="desc" type="Label" parent="gui"]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -436.559
margin_top = 6.1387
margin_right = -2.55945
margin_bottom = 88.1387
text = "Click one of the Buttons or press a key to place a device
Connect devices by clicking on ports.
You can click while placing connections to add another control point
PACKETS will flow from UPLINKs through ROUTERS to SERVERs
"

[node name="packet_timer" type="Timer" parent="."]
wait_time = 0.25
autostart = true
[connection signal="pressed" from="gui/vbox_buttons/create_server" to="." method="_on_create_server_pressed"]
[connection signal="pressed" from="gui/vbox_buttons/create_router" to="." method="_on_create_router_pressed"]
[connection signal="pressed" from="gui/vbox_buttons/create_uplink" to="." method="_on_create_uplink_pressed"]
[connection signal="pressed" from="gui/vbox_buttons/create_packet" to="." method="_on_create_packet_pressed"]
[connection signal="pressed" from="gui/vbox_buttons/load" to="world" method="_on_load_pressed"]
[connection signal="pressed" from="gui/vbox_buttons/save" to="world" method="_on_save_pressed"]
[connection signal="pressed" from="gui/vbox_buttons/clear" to="." method="_on_clear_pressed"]
[connection signal="timeout" from="packet_timer" to="." method="_on_packet_timer_timeout"]
